(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-431a6b20"],{"00a5":function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),o={id:"profile-page"},i=Object(n["g"])("h1",{id:"title-profile"},[Object(n["f"])("Votre profil"),Object(n["g"])("i",{class:"gg-user"})],-1);function c(e,t,r,c,a,u){var s=Object(n["v"])("NavHome"),d=Object(n["v"])("Profile"),l=Object(n["v"])("RouterDelete"),f=Object(n["v"])("RouterUpdate"),p=Object(n["v"])("ButtonReport"),b=Object(n["v"])("Footer");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])(s),Object(n["g"])("main",o,[Object(n["g"])("section",null,[i,Object(n["g"])(d,{userId:a.idProfile,name:a.name,firstname:a.firstname,poste:a.poste},null,8,["userId","name","firstname","poste"]),a.userId===a.idProfile||!0===a.isAdmin?(Object(n["p"])(),Object(n["d"])(l,{key:0,id:this.$route.params.id},null,8,["id"])):Object(n["e"])("",!0),a.userId===a.idProfile||!0===a.isAdmin?(Object(n["p"])(),Object(n["d"])(f,{key:1,id:a.userId,userId:a.idProfile},null,8,["id","userId"])):Object(n["e"])("",!0),a.userId!=a.idProfile&&!1===a.isAdmin?(Object(n["p"])(),Object(n["d"])(p,{key:2,reportMessage:a.reportMessage,onReport:t[1]||(t[1]=function(e){return u.reportProfile(a.idProfile,a.userId)})},null,8,["reportMessage"])):Object(n["e"])("",!0)])]),Object(n["g"])(b)],64)}r("99af"),r("d3b7"),r("96cf");var a=r("1da1"),u=r("f85e"),s=Object(n["g"])("div",{id:"intro-profile"},[Object(n["g"])("h2",{id:"title-profile"},"Vos informations:"),Object(n["g"])("p",{id:"text-profile"}," Voici vos informations personnelles! Vous pouvez les modifier ou les supprimer. ")],-1),d={id:"profile"},l={id:"id-user"},f={class:"user-div"},p=Object(n["g"])("i",{class:"gg-profile"},null,-1),b={class:"user-info"},j={class:"user-div"},O=Object(n["g"])("i",{class:"gg-mail-forward"},null,-1),g={class:"user-info"},m={class:"user-div"},v=Object(n["g"])("i",{class:"gg-briefcase"},null,-1),h={class:"user-info"};function k(e,t,r,o,i,c){return Object(n["p"])(),Object(n["d"])(n["a"],null,[s,Object(n["g"])("div",d,[Object(n["g"])("span",l,"Utilisateur n°"+Object(n["x"])(r.userId),1),Object(n["g"])("div",f,[p,Object(n["g"])("p",b,"Nom: "+Object(n["x"])(r.name),1)]),Object(n["g"])("div",j,[O,Object(n["g"])("p",g,"Prénom: "+Object(n["x"])(r.firstname),1)]),Object(n["g"])("div",m,[v,Object(n["g"])("p",h,"Poste: "+Object(n["x"])(r.poste),1)])])],64)}var I={name:"Profile",props:["userId","name","firstname","poste"]};r("7884");I.render=k;var P=I,w=r("0b43"),y={id:"delete-router"},A=Object(n["g"])("i",{class:"gg-user-remove"},null,-1),x=Object(n["f"])(" Suprimer ");function B(e,t,r,o,i,c){var a=Object(n["v"])("router-link"),u=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",y,[A,Object(n["g"])(a,{id:"delete-link",to:{name:"ProfileDelete",params:{id:r.id}},title:"Lien pour supprimer son profil"},{default:Object(n["B"])((function(){return[x]})),_:1},8,["to"])]),Object(n["g"])(u)],64)}var U={name:"RouterDelete",props:["id"]};r("8773");U.render=B;var R=U,$=r("0d3a"),M=r("fd2d"),S={name:"ProfilePage",components:{NavHome:u["a"],Profile:P,ButtonReport:w["a"],RouterDelete:R,RouterUpdate:$["a"],Footer:M["a"]},data:function(){return{idProfile:"",name:"",firstname:"",poste:"",token:"",userId:"",isAdmin:"",reportMessage:"",error:"",userReported:""}},created:function(){var e=this,t=localStorage.getItem("user"),r=JSON.parse(t);if(null===r)return this.$router.push({path:"/"});this.token=r.token,this.userId=r.userId,this.isAdmin=r.isAdmin,fetch("https//localhost:3000/groupomania/profile/"+this.$route.params.id,{method:"GET",headers:new Headers({Authorization:"Bearer ".concat(this.token)})}).then((function(e){return e.json()})).then((function(t){if(t.error)return e.$router.push({path:"/"});e.idProfile=t.user.id,e.name=t.user.name,e.firstname=t.user.firstname,e.poste=t.user.poste})).catch((function(e){console.log(e)}))},updated:function(){var e=this;fetch("https//localhost:3000/groupomania/profile/"+this.$route.params.id,{method:"GET",headers:new Headers({Authorization:"Bearer ".concat(this.token)})}).then((function(e){return e.json()})).then((function(t){if(t.error)return e.$router.push({path:"/home"});e.idProfile=t.user.id,e.name=t.user.name,e.firstname=t.user.firstname,e.poste=t.user.poste})).catch((function(e){console.log(e)}))},methods:{reportProfile:function(e,t){var r=this;if(null===this.token)return this.$router.push({path:"/"});this.userReportedId=e,fetch("https//localhost:3000/groupomania/report/reported/".concat(e,"/").concat(t),{method:"GET",headers:new Headers({Authorization:"Bearer ".concat(this.token)})}).then(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,n.message&&(r.reportMessage=n.message),r.error=n.error;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}))}}};r("8ece");S.render=c;t["default"]=S},"0b43":function(e,t,r){"use strict";var n=r("7a23"),o={id:"report-div"},i=Object(n["g"])("i",{class:"gg-block"},null,-1),c=Object(n["f"])(" Signaler "),a={id:"report-text"};function u(e,t,r,u,s,d){return Object(n["p"])(),Object(n["d"])("div",o,[Object(n["g"])("button",{id:"report-btn",onClick:t[1]||(t[1]=function(){return d.report&&d.report.apply(d,arguments)}),title:"Bouton pour signaler l'utilisateur"},[i,c]),Object(n["g"])("p",a,Object(n["x"])(r.reportMessage),1)])}var s={name:"ButtonReport",props:["id","reportMessage"],methods:{report:function(){this.$emit("report")}}};r("5ddd");s.render=u;t["a"]=s},"0d3a":function(e,t,r){"use strict";var n=r("7a23"),o={key:0,id:"update-router"},i=Object(n["f"])(" Update "),c=Object(n["g"])("i",{class:"gg-user-add"},null,-1),a={key:1,id:"update-router"},u=Object(n["f"])(" Update "),s=Object(n["g"])("i",{class:"gg-pen"},null,-1),d={key:2,id:"update-router"},l=Object(n["f"])(" Update "),f=Object(n["g"])("i",{class:"gg-pen"},null,-1);function p(e,t,r,p,b,j){var O=Object(n["v"])("router-link"),g=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])(n["a"],null,[r.userId===r.id?(Object(n["p"])(),Object(n["d"])("div",o,[Object(n["g"])(O,{id:"update-link",to:{name:"ProfileUpdate",params:{id:r.id}},title:"Lien pour update son profile"},{default:Object(n["B"])((function(){return[i]})),_:1},8,["to"]),c])):Object(n["e"])("",!0),null===r.commentUserId?(Object(n["p"])(),Object(n["d"])("div",a,[Object(n["g"])(O,{id:"update-link",to:{name:"PostUpdate",params:{id:r.id}},title:"Lien pour update son post "},{default:Object(n["B"])((function(){return[u,s]})),_:1},8,["to"])])):Object(n["e"])("",!0),null===r.postUserId?(Object(n["p"])(),Object(n["d"])("div",d,[Object(n["g"])(O,{id:"update-link",to:{name:"CommentUpdate",params:{id:r.id}},title:"Lien pour update son commentaire"},{default:Object(n["B"])((function(){return[l]})),_:1},8,["to"]),f])):Object(n["e"])("",!0),Object(n["g"])(g)],64)}var b={name:"RouterUpdate",props:["id","userId","postUserId","commentUserId"]};r("e0c1");b.render=p;t["a"]=b},"0db7":function(e,t,r){},"1dde":function(e,t,r){var n=r("d039"),o=r("b622"),i=r("2d00"),c=o("species");e.exports=function(e){return i>=51||!n((function(){var t=[],r=t.constructor={};return r[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2785:function(e,t,r){"use strict";r("8227")},"4e05":function(e,t,r){},"4e08":function(e,t,r){},"5ddd":function(e,t,r){"use strict";r("9e9a")},"65f0":function(e,t,r){var n=r("861d"),o=r("e8b5"),i=r("b622"),c=i("species");e.exports=function(e,t){var r;return o(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!o(r.prototype)?n(r)&&(r=r[c],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},7884:function(e,t,r){"use strict";r("4e05")},"7ca7":function(e,t,r){},8227:function(e,t,r){},8418:function(e,t,r){"use strict";var n=r("c04e"),o=r("9bf2"),i=r("5c6c");e.exports=function(e,t,r){var c=n(t);c in e?o.f(e,c,i(0,r)):e[c]=r}},8773:function(e,t,r){"use strict";r("4e08")},"8ece":function(e,t,r){"use strict";r("f19b")},"99af":function(e,t,r){"use strict";var n=r("23e7"),o=r("d039"),i=r("e8b5"),c=r("861d"),a=r("7b0b"),u=r("50c4"),s=r("8418"),d=r("65f0"),l=r("1dde"),f=r("b622"),p=r("2d00"),b=f("isConcatSpreadable"),j=9007199254740991,O="Maximum allowed index exceeded",g=p>=51||!o((function(){var e=[];return e[b]=!1,e.concat()[0]!==e})),m=l("concat"),v=function(e){if(!c(e))return!1;var t=e[b];return void 0!==t?!!t:i(e)},h=!g||!m;n({target:"Array",proto:!0,forced:h},{concat:function(e){var t,r,n,o,i,c=a(this),l=d(c,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?c:arguments[t],v(i)){if(o=u(i.length),f+o>j)throw TypeError(O);for(r=0;r<o;r++,f++)r in i&&s(l,f,i[r])}else{if(f>=j)throw TypeError(O);s(l,f++,i)}return l.length=f,l}})},"9e9a":function(e,t,r){},b0c0:function(e,t,r){var n=r("83ab"),o=r("9bf2").f,i=Function.prototype,c=i.toString,a=/^\s*function ([^ (]*)/,u="name";n&&!(u in i)&&o(i,u,{configurable:!0,get:function(){try{return c.call(this).match(a)[1]}catch(e){return""}}})},cd4a:function(e,t,r){"use strict";r("0db7")},e0c1:function(e,t,r){"use strict";r("7ca7")},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},f19b:function(e,t,r){},f85e:function(e,t,r){"use strict";var n=r("7a23"),o=r("e2f0"),i=r.n(o),c=Object(n["g"])("img",{id:"logo",src:i.a,alt:"logo de l'entreprise gropupomania"},null,-1),a={id:"nav"},u=Object(n["f"])("Accueil"),s=Object(n["f"])("Profil"),d=Object(n["g"])("i",{class:"gg-log-in"},null,-1);function l(e,t,r,o,i,l){var f=Object(n["v"])("router-link"),p=Object(n["v"])("router-view");return Object(n["p"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("header",null,[c,Object(n["g"])("nav",a,[Object(n["g"])(f,{id:"item-nav-home",to:"/home",title:"Lien vers l'accueil"},{default:Object(n["B"])((function(){return[u]})),_:1}),Object(n["g"])(f,{id:"item-nav-profil",to:{name:"ProfilePage",params:{id:i.userId}},title:"Lien vers son profil"},{default:Object(n["B"])((function(){return[s]})),_:1},8,["to"]),Object(n["g"])(f,{id:"item-nav-logout",to:"/",title:"Bouton déconnexion"},{default:Object(n["B"])((function(){return[d]})),_:1})])]),Object(n["g"])(p)],64)}var f={name:"NavHome",data:function(){return{token:"",userId:"",isAdmin:""}},created:function(){var e=localStorage.getItem("user"),t=JSON.parse(e);if(null===t)return this.$router.push({path:"/"});this.token=t.token,this.userId=t.userId,this.isAdmin=t.isAdmin}};r("2785");f.render=l;t["a"]=f},fd2d:function(e,t,r){"use strict";var n=r("7a23"),o=Object(n["g"])("section",{id:"footer-profile"},[Object(n["g"])("a",{id:"mail-contact",href:"mailto:test@test.com",title:"Lien vers l'email d'aide"},"Un problème ?")],-1);function i(e,t){return Object(n["p"])(),Object(n["d"])("footer",null,[o])}r("cd4a");const c={};c.render=i;t["a"]=c}}]);
//# sourceMappingURL=chunk-431a6b20.d89a59be.js.map